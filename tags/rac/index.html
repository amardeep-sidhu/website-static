<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>RAC | amardeepsidhu.com</title>
<meta name=keywords content><meta name=description content><meta name=author content="Amardeep Sidhu"><link rel=canonical href=https://amardeepsidhu.com/tags/rac/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://amardeepsidhu.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://amardeepsidhu.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://amardeepsidhu.com/favicon-32x32.png><link rel=apple-touch-icon href=https://amardeepsidhu.com/apple-touch-icon.png><link rel=mask-icon href=https://amardeepsidhu.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://amardeepsidhu.com/tags/rac/index.xml><link rel=alternate hreflang=en href=https://amardeepsidhu.com/tags/rac/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://amardeepsidhu.com/tags/rac/"><meta property="og:site_name" content="amardeepsidhu.com"><meta property="og:title" content="RAC"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="RAC"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://amardeepsidhu.com/ accesskey=h title="amardeepsidhu.com (Alt + H)">amardeepsidhu.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://amardeepsidhu.com/blog/ title="Oracle blog"><span>Oracle blog</span></a></li><li><a href=https://amardeepsidhu.com/personal/ title="Personal blog"><span>Personal blog</span></a></li><li><a href=https://amardeepsidhu.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://amardeepsidhu.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://amardeepsidhu.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://amardeepsidhu.com/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>RAC</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Database performance degradation due to multipath issues</h2></header><div class=entry-content><p>To put it in bit of an Indian context, database is not your daughter-in-law that you can blame it for every performance issue that occurs in the environment. But it does happen. Most of the time it is the database that is blamed for all such issues. Many times, the issues are in some other layer like OS, network or storage.
Faced this issue recently at one of the customer sites where performance in one of the databases went down suddenly. It was a 2 node RAC on 12.1.0.2 running on Linux 7 using some kind of Hitachi SSD storage array. There were no changes as per DBA, application, OS and storage teams. But something must have changed somewhere. Otherwise why would performance degrade just like that. I & my colleague checked some details and found that something happened in the morning a day before. Starting from that point in time, the execution time for all the commonly run queries shot up. Generally speaking, when all the queries are doing bad and you are sure that nothing has been changed on the database side, the reasons could be outside the database. But being a DBA, it is not easy to prove that. We took AWRs from good and bad times and the wait events section looked like this:
...</p></div><footer class=entry-footer><span title='2021-03-22 12:54:19 +0530 +0530'>March 22, 2021 at 12:54 PM</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;578 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Database performance degradation due to multipath issues" href=https://amardeepsidhu.com/blog/2021/03/22/database-performance-degradation-due-to-multipath-issues/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[FATAL] [INS-44000] Passwordless SSH connectivity is not setup</h2></header><div class=entry-content><p>Faced this while running installer for setting up a 2 node RAC setup (version 19.8) on an Oracle SuperCluster. The error reported in the log is:
[FATAL] [INS-44000] Passwordless SSH connectivity is not setup from the local node node1 to the following nodes:
[node2]
[INS-06006] Passwordless SSH connectivity not set up between the following node(s): [node2] From the error it appears that the ssh is not setup between two nodes but actually that is not the case. Here the error message is bit misleading. It turned out to be an issue with scp with openssh version 8.x. Running the setup with -debug option gives the clue:
...</p></div><footer class=entry-footer><span title='2021-03-10 18:17:34 +0530 +0530'>March 10, 2021 at 6:17 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;212 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to [FATAL] [INS-44000] Passwordless SSH connectivity is not setup" href=https://amardeepsidhu.com/blog/2021/03/10/fatal-ins-44000-passwordless-ssh-connectivity-is-not-setup/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>PRVF-4657 : Name resolution setup check for “db-scan” (IP address: x.x.x.101) failed</h2></header><div class=entry-content><p>A quick note about an error I faced while running root.sh on an Exadata machine. The configuration tools failed with the following error:
Error is PRVF-4657 : Name resolution setup check for "db-scan" (IP address: x.x.x.101) failed I did nslookup on the scan name and it all seemed good. So why the error ? After spending another 5 minutes, I looked at /etc/hosts and there was it. Someone had populated /etc/hosts of DB nodes with all the hostnames entries including the scan name. Something like:
...</p></div><footer class=entry-footer><span title='2020-09-25 19:41:28 +0530 +0530'>September 25, 2020 at 7:41 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to PRVF-4657 : Name resolution setup check for “db-scan” (IP address: x.x.x.101) failed" href=https://amardeepsidhu.com/blog/2020/09/25/prvf-4657-name-resolution-setup-check-for-db-scan-ip-address-x-x-x-101-failed/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>root.sh fails with CRS-2101:The OLR was formatted using version 3</h2></header><div class=entry-content><p>Got this while trying to install 11.2.0.4 RAC on Redhat Linux 7.2. root.sh fails with a message like
[sql]ohasd failed to start Failed to start the Clusterware. Last 20 lines of the alert log follow: 2017-11-09 15:43:37.883: [client(37246)]CRS-2101:The OLR was formatted using version 3.[/sql]
This is bug 18370031. Need to apply the patch before running root.sh.</p></div><footer class=entry-footer><span title='2017-11-18 16:03:33 +0530 +0530'>November 18, 2017 at 4:03 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;56 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to root.sh fails with CRS-2101:The OLR was formatted using version 3" href=https://amardeepsidhu.com/blog/2017/11/18/root-sh-fails-with-crs-2101-the-olr-was-formatted-using-version-3/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Failed to create voting files on disk group RECOC1</h2></header><div class=entry-content><p>Long story short, faced this issue while running OneCommand for one Exadata system. The root.sh step (Initialize Cluster Software) was failing with the following error on the screen
Checking file root_dm01dbadm02.in.oracle.com_2017-04-27_18-13-27.log on node dm01dbadm02.somedomain.com Error: Error running root scripts, please investigate… Collecting diagnostics… Errors occurred. Send /u01/onecommand/linux-x64/WorkDir/Diag-170427_181710.zip to Oracle to receive assistance.
Doesn’t make much sense. So let us check the log file of this step
2017-04-27 18:17:10,463 [INFO][ OCMDThread][ ClusterUtils:413] Checking file root_dm01dbadm02.somedomain.com_2017-04-27_18-13-27.log on node inx321dbadm02.somedomain.com 2017-04-27 18:17:10,464 [INFO][ OCMDThread][ OcmdException:62] Error: Error running root scripts, please investigate… 2017-04-27 18:17:10,464 [FINE][ OCMDThread][ OcmdException:63] Throwing OcmdException… message:Error running root scripts, please investigate…
...</p></div><footer class=entry-footer><span title='2017-04-28 14:31:20 +0530 +0530'>April 28, 2017 at 2:31 PM</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;810 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Failed to create voting files on disk group RECOC1" href=https://amardeepsidhu.com/blog/2017/04/28/failed-to-create-voting-files-on-disk-group-recoc1/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Oracle RAC 12.1 – lsnodes exited with code 9</h2></header><div class=entry-content><p>I was trying to do a 2 node RAC setup on Solaris 11.3 where Oracle Solaris Cluster 4.3 was already configured. Installed was running but the Cluster Node Information screen was appearing like this
The install log shows this:
INFO: Checking cluster configuration details
INFO: Found Vendor Clusterware. Fetching Cluster Configuration
INFO: Executing [/tmp/OraInstall2017-03-28_12-50-48PM/ext/bin/lsnodes]
with environment variables {TERM=xterm, LC_COLLATE=, SHLVL=3, JAVA_HOME=, XFILESEARCHPATH=/usr/dt/app-defaults/%L/Dt, SSH_CLIENT=172.16.64.55 56370 22, LC_NUMERIC=, LC_MESSAGES=, MAIL=/var/mail/oracle, PWD=/export/software/grid/grid, XTERM_VERSION=XTerm(320), WINDOWID=2097165, LOGNAME=oracle, _=*50727*/export/software/grid/grid/install/.oui, NLSPATH=/usr/dt/lib/nls/msg/%L/%N.cat, SSH_CONNECTION=172.16.64.55 56370 172.16.72.18 22, OLDPWD=/export/oracle, LC_CTYPE=, CLASSPATH=, PATH=/usr/bin:/usr/ccs/bin:/usr/bin:/bin:/export/software/grid/grid/install, LC_ALL=, DISPLAY=localhost:10.0, LC_MONETARY=, USER=oracle, HOME=/export/oracle, XTERM_SHELL=/bin/bash, XAUTHORITY=/tmp/ssh-xauth-mlq21a/xauthfile, A__z="*SHLVL, XTERM_LOCALE=en_US.UTF-8, TZ=localtime, LC_TIME=, LANG=en_US.UTF-8}
...</p></div><footer class=entry-footer><span title='2017-03-28 22:01:35 +0530 +0530'>March 28, 2017 at 10:01 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;237 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Oracle RAC 12.1 – lsnodes exited with code 9" href=https://amardeepsidhu.com/blog/2017/03/28/oracle-rac-12-1-lsnodes-exited-with-code-9/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>addNode.sh, failed root.sh and IB listener</h2></header><div class=entry-content><p>So this customer has an Exadata quarter rack and they have an IB listener configured on both DB nodes (for DB connections from a multi-racked Exalogic system). We were adding a new DB node to this rack. So just followed the standard procedure of creating users, directories etc on the new node, setting up ssh equivalence and running addNode.sh. All went fine but root.sh failed. Little looking into the logs revealed that it failed while running srvctl start listener –n &lt;node_name>
...</p></div><footer class=entry-footer><span title='2016-09-13 19:44:56 +0530 +0530'>September 13, 2016 at 7:44 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;360 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to addNode.sh, failed root.sh and IB listener" href=https://amardeepsidhu.com/blog/2016/09/13/addnode-sh-failed-root-sh-and-ib-listener/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://amardeepsidhu.com/>amardeepsidhu.com</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>