<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>VPD on amardeepsidhu.com</title><link>https://amardeepsidhu.com/tags/vpd/</link><description>Recent content in VPD on amardeepsidhu.com</description><generator>Hugo -- 0.147.9</generator><language>en</language><lastBuildDate>Fri, 19 Jun 2009 23:42:40 +0530</lastBuildDate><atom:link href="https://amardeepsidhu.com/tags/vpd/index.xml" rel="self" type="application/rss+xml"/><item><title>DBMS_SCHEDULER, DBMS_RLS and SYS_CONTEXT</title><link>https://amardeepsidhu.com/blog/2009/06/19/dbms_scheduler-dbms_rls-and-sys_context/</link><pubDate>Fri, 19 Jun 2009 23:42:40 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2009/06/19/dbms_scheduler-dbms_rls-and-sys_context/</guid><description>&lt;p>Today one of my colleague was working on development of a screen in Oracle Forms to give the end user an option to schedule a job using dbms_scheduler. With the hope that i would be able to explain it properly, the whole scenario is like this:&lt;/p>
&lt;ol>
&lt;li>User will log in to the application with his username (Lets say USER01) and password (basically every application user is a database user).&lt;/li>
&lt;li>He is provided with a screen where he can enter details about the job and the code behind the button calls a PL/SQL procedure in the main application schema (lets say APP1) which in turn uses DBMS_SCHEDULER.CREATE_JOB to schedule the new job.&lt;/li>
&lt;li>The ultimate task of the job is to move data from one table in the first database to a table in the second database using a DB Link.&lt;/li>
&lt;li>There is a VPD policy applied on all the application users to restrict the view of data. Policy function uses SYS_CONTEXT to fetch some information about the logged in user. The main application user APP1 is exempted from policy and can see the whole data.&lt;/li>
&lt;/ol>
&lt;p>Things seem to work fine till the schedule part. But when the job runs it hits &lt;em>&lt;strong>ORA-02070: database does not support operator SYS_CONTEXT in this context&lt;/strong>&lt;/em> as SYS_CONTEXT and DB link doesn&amp;rsquo;t go together.&lt;/p></description></item></channel></rss>