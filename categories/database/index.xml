<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Database on amardeepsidhu.com</title><link>https://amardeepsidhu.com/categories/database/</link><description>Recent content in Database on amardeepsidhu.com</description><generator>Hugo -- 0.135.0</generator><language>en</language><lastBuildDate>Fri, 20 Jan 2023 16:55:50 +0530</lastBuildDate><atom:link href="https://amardeepsidhu.com/categories/database/index.xml" rel="self" type="application/rss+xml"/><item><title>Can’t su to oracle user</title><link>https://amardeepsidhu.com/blog/2023/01/20/cant-su-to-oracle-user/</link><pubDate>Fri, 20 Jan 2023 16:55:50 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2023/01/20/cant-su-to-oracle-user/</guid><description>&lt;p>Last week, got this issue reported by a DBA that he wasn&amp;rsquo;t able to su to oracle user from root on a Oracle Base Database VM in OCI. The login of opc user worked fine and he could do sudo su to root but he couldn&amp;rsquo;t su to oracle. When he did it just came back to root shell.&lt;/p>
&lt;pre tabindex="0">&lt;code>[root@xxx ~]# su - oracle
Last login: Fri Jan 12 10:20:38 UTC 2023
[root@xxx ~]#
&lt;/code>&lt;/pre>&lt;p>There was nothing relevant in /var/log/messages or /var/log/secure. I tried it for some other user and it worked fine. Then I suspected something with the profile of oracle user and voila ! The .bashrc looked like this&lt;/p></description></item><item><title>AVDF installation error</title><link>https://amardeepsidhu.com/blog/2019/12/05/avdf-installation-error/</link><pubDate>Thu, 05 Dec 2019 20:18:12 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2019/12/05/avdf-installation-error/</guid><description>&lt;p>I was installing Database Firewall version 12.2.0.11.0 on a Dell x86 machine (with 5 * 500 GB local HDDs configured in RAID 10) and it got successfully installed. Later on, I came to know that this version &lt;a href="https://docs.oracle.com/cd/E69292_01/doc.122/e41705/host_con.htm#SIGAD40830">doesn&amp;rsquo;t support&lt;/a> host monitor functionality on Windows hosts. The latest version that supports that is 12.2.0.10.0. So that was the time to download and install 12.2.0.10.0. The installation started fine but it failed with an error:&lt;/p></description></item><item><title>ORA-04080: trigger ‘PRICE_HISTORY_TRIGGERV1’ does not exist</title><link>https://amardeepsidhu.com/blog/2019/01/22/ora-04080-trigger-price_history_triggerv1-does-not-exist/</link><pubDate>Tue, 22 Jan 2019 19:15:51 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2019/01/22/ora-04080-trigger-price_history_triggerv1-does-not-exist/</guid><description>&lt;p>It is actually a dumb one. I was disabling triggers in a schema and ran this SQL to generate the disable statements. (Example from &lt;a href="http://plsql-tutorial.com/plsql-triggers.htm">here&lt;/a>)&lt;/p>
&lt;pre tabindex="0">&lt;code>HR@test&amp;gt; select &amp;#39;alter trigger &amp;#39;||trigger_name|| &amp;#39; disable;&amp;#39; from user_triggers where table_name=&amp;#39;PRODUCT&amp;#39;;
&amp;#39;ALTERTRIGGER&amp;#39;||TRIGGER_NAME||&amp;#39;DISABLE;&amp;#39;
--------------------------------------------------------------------------------
alter trigger PRICE_HISTORY_TRIGGERv1 disable;
HR@test&amp;gt; alter trigger PRICE_HISTORY_TRIGGERv1 disable;
alter trigger PRICE_HISTORY_TRIGGERv1 disable
*
ERROR at line 1:
ORA-04080: trigger &amp;#39;PRICE_HISTORY_TRIGGERV1&amp;#39; does not exist
HR@test&amp;gt;
&lt;/code>&lt;/pre>&lt;p>WTF ? It is there but the disable didn&amp;rsquo;t work. I was in hurry, tried to connect through SQL developer and disable and it worked ! Double WTF ! Then i spotted the problem. Someone created it with one letter in the name in small. So to make it work, we need to use double quotes.&lt;/p></description></item><item><title>dbca doesn’t list diskgroups</title><link>https://amardeepsidhu.com/blog/2018/12/26/dbca-doesnt-list-diskgroups/</link><pubDate>Wed, 26 Dec 2018 21:01:20 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2018/12/26/dbca-doesnt-list-diskgroups/</guid><description>&lt;p>This is an Exadata machine running GI version 18.3.0.0.180717 and DB version 12.1.0.2.180717. On one of the DB nodes while running dbca, it doesn&amp;rsquo;t list the diskgroups. it works fine on the other node.&lt;/p>
&lt;p>I cheked the dbca trace and found that the kfod command was failing. I tried to run it manually and got the same error:&lt;/p>
&lt;pre tabindex="0">&lt;code>[oracle@exadb01 ~]$ /u01/app/18.0.0.0/grid/bin/kfod op=groups verbose=true
KFOD-00300: OCI error [-1] [OCI error] [Could not fetch details] [-105777048]
KFOD-00105: Could not open pfile &amp;#39;init@.ora&amp;#39;
[oracle@exadb01 ~]$
&lt;/code>&lt;/pre>&lt;p>I ran it with strace then:&lt;/p></description></item><item><title>TNS-12543: TNS:destination host unreachable</title><link>https://amardeepsidhu.com/blog/2017/07/15/tns-12543-tns-destination-host-unreachable/</link><pubDate>Sat, 15 Jul 2017 10:23:36 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2017/07/15/tns-12543-tns-destination-host-unreachable/</guid><description>&lt;p>Scenario : Setting up a physical standby from Exadata to a non-Exadata single instance. tnsping from standby to primary works fine but tnsping from primary to standby fails with:&lt;/p>
&lt;p>[sql]TNS-12543: TNS:destination host unreachable[/sql]&lt;/p>
&lt;p>I am able to ssh standby from primary, can ping as well but tnsping doesn&amp;rsquo;t work.  From the error description we can figure out that something is blocking the access. In this case it was iptables that was enabled on the standby server.&lt;/p></description></item><item><title>ORA-12154 in Data Guard environment</title><link>https://amardeepsidhu.com/blog/2017/05/31/ora-12154-in-data-guard-environment/</link><pubDate>Wed, 31 May 2017 21:24:54 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2017/05/31/ora-12154-in-data-guard-environment/</guid><description>&lt;p>Hit this silly issue in one of the data guard environments today. Primary is a 2 node RAC running 11.2.0.4 and standby is also a 2 node RAC. Archive logs from node2 aren&amp;rsquo;t shipping and the error being reported is&lt;/p>
&lt;p>[sql]ORA-12154: TNS:could not resolve the connect identifier specified[/sql]&lt;/p>
&lt;p>We tried usual things like going to $TNS_ADMIN, checking the entry in tnsnames.ora and then also trying to connect using sqlplus sys@target as sysdba. Everything seemed to be good but logs were not shipping and the same problem was being reported repeatedly. As everything on node1 was working fine so it looked even more weird.&lt;/p></description></item><item><title>MRP process on standby stops with ORA-00600</title><link>https://amardeepsidhu.com/blog/2015/08/20/mrp-process-on-standby-stops-with-ora-00600/</link><pubDate>Thu, 20 Aug 2015 14:33:45 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2015/08/20/mrp-process-on-standby-stops-with-ora-00600/</guid><description>&lt;p>A rather not so great post about an ORA-00600 error i faced on a standby database. Environement was 11.2.0.3 on Sun Super Cluster machine. MRP process was hitting ORA-00600 while trying to apply a specific archive log.&lt;/p>
&lt;p>The error message was something like this&lt;/p>
&lt;pre tabindex="0">&lt;code>MRP0: Background Media Recovery terminated with error 600
Errors in file /u01/app/oracle/product/11.2.0.3/diag/diag/rdbms/xxxprd/xxxprd1/trace/xxxprd1_pr00_6342.trc:
ORA-00600: internal error code, arguments: [2619], [539], [], [], [], [], [], [], [], [], [], []
Recovery interrupted!
&lt;/code>&lt;/pre>&lt;p>Some googling and MOS searches revealed that the error was due to corrupted archive log file. Recopying the archive file from primary and restarting the recovery resolved the issue. The fist argument of the ORA-600 is actually the sequence no of the archive it is trying to apply.&lt;/p></description></item><item><title>Oracle database 12c</title><link>https://amardeepsidhu.com/blog/2013/06/27/oracle-database-12c/</link><pubDate>Thu, 27 Jun 2013 07:28:45 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2013/06/27/oracle-database-12c/</guid><description>&lt;p>So there is a new toy in the market for database geeks : Oracle has released database 12c. Every social platform is abuzz with the 12c activity. So thought that I should also complete the ritual &lt;img alt="Winking smile" loading="lazy" src="https://amardeepsidhu.com/blog/wp-content/uploads/2013/06/wlEmoticon-winkingsmile.png">&lt;/p>
&lt;p>In &lt;a href="http://blog.aristadba.com/?p=254">this post&lt;/a> Aman has already summed up many important links.&lt;/p>
&lt;p>Maria Colgan has posted some useful links &lt;a href="https://blogs.oracle.com/optimizer/entry/oracle_database_12c_is_here">here&lt;/a>.&lt;/p>
&lt;p>And &lt;a href="http://apex.oracle.com/pls/apex/f?p=202202:2:::::P2_SUCHWORT:migrate12c">here is a link&lt;/a> to a slidedeck about Upgrading and Migrating to 12c.&lt;/p>
&lt;p>Happy 12c’ing !&lt;/p></description></item></channel></rss>