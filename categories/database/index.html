<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Database | amardeepsidhu.com</title><meta name=keywords content><meta name=description content><meta name=author content="Amardeep Sidhu"><link rel=canonical href=https://amardeepsidhu.com/categories/database/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://amardeepsidhu.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://amardeepsidhu.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://amardeepsidhu.com/favicon-32x32.png><link rel=apple-touch-icon href=https://amardeepsidhu.com/apple-touch-icon.png><link rel=mask-icon href=https://amardeepsidhu.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://amardeepsidhu.com/categories/database/index.xml><link rel=alternate hreflang=en href=https://amardeepsidhu.com/categories/database/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://amardeepsidhu.com/categories/database/"><meta property="og:site_name" content="amardeepsidhu.com"><meta property="og:title" content="Database"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Database"><meta name=twitter:description content><script data-goatcounter=https://amardeepsidhu.goatcounter.com/count async src=//gc.zgo.at/count.js></script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://amardeepsidhu.com/ accesskey=h title="amardeepsidhu.com (Alt + H)">amardeepsidhu.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://amardeepsidhu.com/blog/ title="Tech blog"><span>Tech blog</span></a></li><li><a href=https://amardeepsidhu.com/personal/ title="Personal blog"><span>Personal blog</span></a></li><li><a href=https://amardeepsidhu.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://amardeepsidhu.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://amardeepsidhu.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://amardeepsidhu.com/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Database</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Decoding OCI's Database Deployment Options - Part 4</h2></header><div class=entry-content><p>In part3, I summarized the MySQL based options available for DB deployment on OCI. In this post I will talk about the options available for deploying PostgreSQL on OCI. While one is free to run PostgreSQL as IaaS, along with other Oracle & non-Oracle databases, OCI offers PostgreSQL also as a managed service. Both Intel & AMD based flex shapes are available and it allows you to size OCPUs and memory independent of each other. Vertical scale up/down can be done on the fly. Here are some other important features:
...</p></div><footer class=entry-footer><span title='2025-12-24 19:40:12 +0530 +0530'>December 24, 2025 at 7:40 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;199 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Decoding OCI's Database Deployment Options - Part 4" href=https://amardeepsidhu.com/blog/2025/12/decoding-ocis-database-deployment-options-part4/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Importance of getting the basics right #JoelKallmanDay</h2></header><div class=entry-content><p>This is my submission for JoelKallmanDay, a community day planned by Tim every year on October 15th as a tribute to Joel Kallman.
It is an old story that I am sharing. There was a customer that was using a Loan Management application and the back end was an Oracle database (a single instance, if I remember correctly). The hardware they were using was nearing EOL and they got an Exadata and moved the database there. They had high expectations and were expecting the application to be blazingly fast; it was a brand new Exadata, after all. But the experience was rather disappointing. There were application hangs, slowness and user complaints. When we (as a team) looked at the AWS/ASH reports from the system, there were things that needed immediate fixes. There were queries doing full tables scans and returning only a few rows. Then there were sequences where the cache size was set to zero. It appeared that the application was never tested with a RAC database. Creating the missing indexes and adjusting the cache sizes of the frequently used sequences appeared to be a low hanging fruit and it actually was. Fixing these two things gave a reasonable amount of relief. Of course, there was more that needed to be done to bring things on the track.
...</p></div><footer class=entry-footer><span title='2025-10-15 19:34:12 +0530 +0530'>October 15, 2025 at 7:34 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;294 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Importance of getting the basics right #JoelKallmanDay" href=https://amardeepsidhu.com/blog/2025/10/importance-of-getting-the-basics-right-joelkallmanday/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Decoding OCI's Database Deployment Options - Part 3</h2></header><div class=entry-content><p>(Image from here)
In part2, I summarized the Exadata platform based options available for DB deployment on OCI. In this post I will talk about the options available for deploying MySQL on OCI. MySQL from Oracle is available in two different flavours: Community Edition which is Open Source and two types of paid editions Standard and the Enterprise Edition. Enterprise Edition comes with additional features like TDE, Enterprise backup, HA etc. Both the Standard and the Enterprise Editions come with Oracle Premier Support. As it is with the Oracle database, MySQL can also be run as an IaaS option where you provision a compute instance, attach some block storage and install/configure the edition you need. There are options available on OCI Marketplace as well.
...</p></div><footer class=entry-footer><span title='2025-09-16 21:40:12 +0530 +0530'>September 16, 2025 at 9:40 PM</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;499 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Decoding OCI's Database Deployment Options - Part 3" href=https://amardeepsidhu.com/blog/2025/09/decoding-ocis-database-deployment-options-part3/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>SQL Performance - Tune It or Buy It ?</h2></header><div class=entry-content><p>I was thinking about this while sitting in Vivek’s session at OCYatra in Gurgaon. He was talking about the techniques one can use to optimize badly performing SQLs. But there does exist the other side of this story i.e. throwing hardware at a performance problem to fix it. Of course, it works till a point only and it can’t solve every damn performance problem out there. But it is relatively easier to do (costs money, though) and depending upon where you are hosting your workloads, can be quicker too. You see CPU usage going up or users complaining, simple thing to do is to throw more cores at the database. If the system is CPU starved, it is going to give some temporary relief and you can control the situation. Same can be the case with the storage IOPS. In some extreme cases, you could even migrate the database to a more powerful hardware. With systems like Exadata being around which can make even a bad SQL do fairly well, this lever becomes even more powerful. But is it sustainable or is it the right way to deal with these kind of issues?
...</p></div><footer class=entry-footer><span title='2025-07-28 08:50:12 +0530 +0530'>July 28, 2025 at 8:50 AM</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;470 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to SQL Performance - Tune It or Buy It ?" href=https://amardeepsidhu.com/blog/2025/07/sql-performance-tune-it-or-buy-it/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Decoding OCI's Database Deployment Options - Part 2</h2></header><div class=entry-content><p>In part1, I summarized the options available for DB deployment on OCI and described the Base Database Service. In this post I will talk about the second group i.e. Exadata platform based services in detail and explore the possible deployment scenarios. When it comes to Exadata based options, it get a little complex as there are multiple ways to do it. To reiterate, there are two ways the deployment can be done. One is in the public cloud and another one is the private cloud (Exadata Cloud@Customer aka ExaCC) where the hardware is deployed in the customer’s data center. Let’s now explore the different offerings.
...</p></div><footer class=entry-footer><span title='2025-07-20 19:03:12 +0530 +0530'>July 20, 2025 at 7:03 PM</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;829 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Decoding OCI's Database Deployment Options - Part 2" href=https://amardeepsidhu.com/blog/2025/07/decoding-ocis-database-deployment-options-part2/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Decoding OCI's Database Deployment Options - Part 1</h2></header><div class=entry-content><p>So, you are looking to run a database on Oracle Cloud Infrastructure (OCI), right ? Great ! But then you login, and suddenly you are faced with a whole range of services that can feel a bit…overwhelming. It’s not always obvious which one’s the right fit, especially for someone new to the OCI database landscape. That’s why I wanted to start this series of posts where we will walk through all the options that OCI throws at us for deploying databases.
...</p></div><footer class=entry-footer><span title='2025-06-29 17:25:12 +0530 +0530'>June 29, 2025 at 5:25 PM</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;788 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Decoding OCI's Database Deployment Options - Part 1" href=https://amardeepsidhu.com/blog/2025/06/decoding-ocis-database-deployment-options-part1/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Can’t su to oracle user</h2></header><div class=entry-content><p>Last week, got this issue reported by a DBA that he wasn’t able to su to oracle user from root on a Oracle Base Database VM in OCI. The login of opc user worked fine and he could do sudo su to root but he couldn’t su to oracle. When he did it just came back to root shell.
[root@xxx ~]# su - oracle Last login: Fri Jan 12 10:20:38 UTC 2023 [root@xxx ~]# There was nothing relevant in /var/log/messages or /var/log/secure. I tried it for some other user and it worked fine. Then I suspected something with the profile of oracle user and voila ! The .bashrc looked like this
...</p></div><footer class=entry-footer><span title='2023-01-20 16:55:50 +0530 +0530'>January 20, 2023 at 4:55 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;160 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Can’t su to oracle user" href=https://amardeepsidhu.com/blog/2023/01/cant-su-to-oracle-user/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>AVDF installation error</h2></header><div class=entry-content><p>I was installing Database Firewall version 12.2.0.11.0 on a Dell x86 machine (with 5 * 500 GB local HDDs configured in RAID 10) and it got successfully installed. Later on, I came to know that this version doesn’t support host monitor functionality on Windows hosts. The latest version that supports that is 12.2.0.10.0. So that was the time to download and install 12.2.0.10.0. The installation started fine but it failed with an error:
...</p></div><footer class=entry-footer><span title='2019-12-05 20:18:12 +0530 +0530'>December 5, 2019 at 8:18 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to AVDF installation error" href=https://amardeepsidhu.com/blog/2019/12/avdf-installation-error/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>ORA-04080: trigger ‘PRICE_HISTORY_TRIGGERV1’ does not exist</h2></header><div class=entry-content><p>It is actually a dumb one. I was disabling triggers in a schema and ran this SQL to generate the disable statements. (Example from here)
HR@test> select 'alter trigger '||trigger_name|| ' disable;' from user_triggers where table_name='PRODUCT';
'ALTERTRIGGER'||TRIGGER_NAME||'DISABLE;'
--------------------------------------------------------------------------------
alter trigger PRICE_HISTORY_TRIGGERv1 disable;
HR@test> alter trigger PRICE_HISTORY_TRIGGERv1 disable;
alter trigger PRICE_HISTORY_TRIGGERv1 disable
*
ERROR at line 1:
ORA-04080: trigger 'PRICE_HISTORY_TRIGGERV1' does not exist
HR@test> WTF ? It is there but the disable didn’t work. I was in hurry, tried to connect through SQL developer and disable and it worked ! Double WTF ! Then i spotted the problem. Someone created it with one letter in the name in small. So to make it work, we need to use double quotes.
...</p></div><footer class=entry-footer><span title='2019-01-22 19:15:51 +0530 +0530'>January 22, 2019 at 7:15 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;143 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to ORA-04080: trigger ‘PRICE_HISTORY_TRIGGERV1’ does not exist" href=https://amardeepsidhu.com/blog/2019/01/ora-04080-trigger-price_history_triggerv1-does-not-exist/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>dbca doesn’t list diskgroups</h2></header><div class=entry-content><p>This is an Exadata machine running GI version 18.3.0.0.180717 and DB version 12.1.0.2.180717. On one of the DB nodes while running dbca, it doesn’t list the diskgroups. it works fine on the other node.
I cheked the dbca trace and found that the kfod command was failing. I tried to run it manually and got the same error:
[oracle@exadb01 ~]$ /u01/app/18.0.0.0/grid/bin/kfod op=groups verbose=true
KFOD-00300: OCI error [-1] [OCI error] [Could not fetch details] [-105777048]
KFOD-00105: Could not open pfile 'init@.ora'
[oracle@exadb01 ~]$ I ran it with strace then:
...</p></div><footer class=entry-footer><span title='2018-12-26 21:01:20 +0530 +0530'>December 26, 2018 at 9:01 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;410 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to dbca doesn’t list diskgroups" href=https://amardeepsidhu.com/blog/2018/12/dbca-doesnt-list-diskgroups/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://amardeepsidhu.com/categories/database/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://amardeepsidhu.com/>amardeepsidhu.com</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>