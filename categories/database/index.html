<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Database | amardeepsidhu.com</title><meta name=keywords content><meta name=description content><meta name=author content="Amardeep Sidhu"><link rel=canonical href=https://amardeepsidhu.com/categories/database/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://amardeepsidhu.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://amardeepsidhu.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://amardeepsidhu.com/favicon-32x32.png><link rel=apple-touch-icon href=https://amardeepsidhu.com/apple-touch-icon.png><link rel=mask-icon href=https://amardeepsidhu.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://amardeepsidhu.com/categories/database/index.xml><link rel=alternate hreflang=en href=https://amardeepsidhu.com/categories/database/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://amardeepsidhu.com/categories/database/"><meta property="og:site_name" content="amardeepsidhu.com"><meta property="og:title" content="Database"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Database"><meta name=twitter:description content><script data-goatcounter=https://amardeepsidhu.goatcounter.com/count async src=//gc.zgo.at/count.js></script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://amardeepsidhu.com/ accesskey=h title="amardeepsidhu.com (Alt + H)">amardeepsidhu.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://amardeepsidhu.com/blog/ title="Oracle blog"><span>Oracle blog</span></a></li><li><a href=https://amardeepsidhu.com/personal/ title="Personal blog"><span>Personal blog</span></a></li><li><a href=https://amardeepsidhu.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://amardeepsidhu.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://amardeepsidhu.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://amardeepsidhu.com/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Database</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Decoding OCI's Database Deployment Options - Part 1</h2></header><div class=entry-content><p>So, you are looking to run a database on Oracle Cloud Infrastructure (OCI), right ? Great ! But then you login, and suddenly you are faced with a whole range of services that can feel a bit…overwhelming. It’s not always obvious which one’s the right fit, especially for someone new to the OCI database landscape. That’s why I wanted to start this series of posts where we will walk through all the options that OCI throws at us for deploying databases.
...</p></div><footer class=entry-footer><span title='2025-06-29 17:25:12 +0530 +0530'>June 29, 2025 at 5:25 PM</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;774 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Decoding OCI's Database Deployment Options - Part 1" href=https://amardeepsidhu.com/blog/2025/06/decoding-ocis-database-deployment-options-part1/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Can’t su to oracle user</h2></header><div class=entry-content><p>Last week, got this issue reported by a DBA that he wasn’t able to su to oracle user from root on a Oracle Base Database VM in OCI. The login of opc user worked fine and he could do sudo su to root but he couldn’t su to oracle. When he did it just came back to root shell.
[root@xxx ~]# su - oracle
Last login: Fri Jan 12 10:20:38 UTC 2023
[root@xxx ~]# There was nothing relevant in /var/log/messages or /var/log/secure. I tried it for some other user and it worked fine. Then I suspected something with the profile of oracle user and voila ! The .bashrc looked like this
...</p></div><footer class=entry-footer><span title='2023-01-20 16:55:50 +0530 +0530'>January 20, 2023 at 4:55 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;160 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Can’t su to oracle user" href=https://amardeepsidhu.com/blog/2023/01/cant-su-to-oracle-user/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>AVDF installation error</h2></header><div class=entry-content><p>I was installing Database Firewall version 12.2.0.11.0 on a Dell x86 machine (with 5 * 500 GB local HDDs configured in RAID 10) and it got successfully installed. Later on, I came to know that this version doesn’t support host monitor functionality on Windows hosts. The latest version that supports that is 12.2.0.10.0. So that was the time to download and install 12.2.0.10.0. The installation started fine but it failed with an error:
...</p></div><footer class=entry-footer><span title='2019-12-05 20:18:12 +0530 +0530'>December 5, 2019 at 8:18 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to AVDF installation error" href=https://amardeepsidhu.com/blog/2019/12/avdf-installation-error/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>ORA-04080: trigger ‘PRICE_HISTORY_TRIGGERV1’ does not exist</h2></header><div class=entry-content><p>It is actually a dumb one. I was disabling triggers in a schema and ran this SQL to generate the disable statements. (Example from here)
HR@test> select 'alter trigger '||trigger_name|| ' disable;' from user_triggers where table_name='PRODUCT';
'ALTERTRIGGER'||TRIGGER_NAME||'DISABLE;'
--------------------------------------------------------------------------------
alter trigger PRICE_HISTORY_TRIGGERv1 disable;
HR@test> alter trigger PRICE_HISTORY_TRIGGERv1 disable;
alter trigger PRICE_HISTORY_TRIGGERv1 disable
*
ERROR at line 1:
ORA-04080: trigger 'PRICE_HISTORY_TRIGGERV1' does not exist
HR@test> WTF ? It is there but the disable didn’t work. I was in hurry, tried to connect through SQL developer and disable and it worked ! Double WTF ! Then i spotted the problem. Someone created it with one letter in the name in small. So to make it work, we need to use double quotes.
...</p></div><footer class=entry-footer><span title='2019-01-22 19:15:51 +0530 +0530'>January 22, 2019 at 7:15 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;143 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to ORA-04080: trigger ‘PRICE_HISTORY_TRIGGERV1’ does not exist" href=https://amardeepsidhu.com/blog/2019/01/ora-04080-trigger-price_history_triggerv1-does-not-exist/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>dbca doesn’t list diskgroups</h2></header><div class=entry-content><p>This is an Exadata machine running GI version 18.3.0.0.180717 and DB version 12.1.0.2.180717. On one of the DB nodes while running dbca, it doesn’t list the diskgroups. it works fine on the other node.
I cheked the dbca trace and found that the kfod command was failing. I tried to run it manually and got the same error:
[oracle@exadb01 ~]$ /u01/app/18.0.0.0/grid/bin/kfod op=groups verbose=true
KFOD-00300: OCI error [-1] [OCI error] [Could not fetch details] [-105777048]
KFOD-00105: Could not open pfile 'init@.ora'
[oracle@exadb01 ~]$ I ran it with strace then:
...</p></div><footer class=entry-footer><span title='2018-12-26 21:01:20 +0530 +0530'>December 26, 2018 at 9:01 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;410 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to dbca doesn’t list diskgroups" href=https://amardeepsidhu.com/blog/2018/12/dbca-doesnt-list-diskgroups/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>TNS-12543: TNS:destination host unreachable</h2></header><div class=entry-content><p>Scenario : Setting up a physical standby from Exadata to a non-Exadata single instance. tnsping from standby to primary works fine but tnsping from primary to standby fails with:
[sql]TNS-12543: TNS:destination host unreachable[/sql]
I am able to ssh standby from primary, can ping as well but tnsping doesn’t work. From the error description we can figure out that something is blocking the access. In this case it was iptables that was enabled on the standby server.
...</p></div><footer class=entry-footer><span title='2017-07-15 10:23:36 +0530 +0530'>July 15, 2017 at 10:23 AM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;109 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to TNS-12543: TNS:destination host unreachable" href=https://amardeepsidhu.com/blog/2017/07/tns-12543-tns-destination-host-unreachable/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>ORA-12154 in Data Guard environment</h2></header><div class=entry-content><p>Hit this silly issue in one of the data guard environments today. Primary is a 2 node RAC running 11.2.0.4 and standby is also a 2 node RAC. Archive logs from node2 aren’t shipping and the error being reported is
[sql]ORA-12154: TNS:could not resolve the connect identifier specified[/sql]
We tried usual things like going to $TNS_ADMIN, checking the entry in tnsnames.ora and then also trying to connect using sqlplus sys@target as sysdba. Everything seemed to be good but logs were not shipping and the same problem was being reported repeatedly. As everything on node1 was working fine so it looked even more weird.
...</p></div><footer class=entry-footer><span title='2017-05-31 21:24:54 +0530 +0530'>May 31, 2017 at 9:24 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;250 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to ORA-12154 in Data Guard environment" href=https://amardeepsidhu.com/blog/2017/05/ora-12154-in-data-guard-environment/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>MRP process on standby stops with ORA-00600</h2></header><div class=entry-content><p>A rather not so great post about an ORA-00600 error i faced on a standby database. Environement was 11.2.0.3 on Sun Super Cluster machine. MRP process was hitting ORA-00600 while trying to apply a specific archive log.
The error message was something like this
MRP0: Background Media Recovery terminated with error 600
Errors in file /u01/app/oracle/product/11.2.0.3/diag/diag/rdbms/xxxprd/xxxprd1/trace/xxxprd1_pr00_6342.trc:
ORA-00600: internal error code, arguments: [2619], [539], [], [], [], [], [], [], [], [], [], []
Recovery interrupted! Some googling and MOS searches revealed that the error was due to corrupted archive log file. Recopying the archive file from primary and restarting the recovery resolved the issue. The fist argument of the ORA-600 is actually the sequence no of the archive it is trying to apply.
...</p></div><footer class=entry-footer><span title='2015-08-20 14:33:45 +0530 +0530'>August 20, 2015 at 2:33 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;123 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to MRP process on standby stops with ORA-00600" href=https://amardeepsidhu.com/blog/2015/08/mrp-process-on-standby-stops-with-ora-00600/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Oracle database 12c</h2></header><div class=entry-content><p>So there is a new toy in the market for database geeks : Oracle has released database 12c. Every social platform is abuzz with the 12c activity. So thought that I should also complete the ritual In this post Aman has already summed up many important links.
Maria Colgan has posted some useful links here.
And here is a link to a slidedeck about Upgrading and Migrating to 12c.
Happy 12c’ing !</p></div><footer class=entry-footer><span title='2013-06-27 07:28:45 +0530 +0530'>June 27, 2013 at 7:28 AM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;72 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Oracle database 12c" href=https://amardeepsidhu.com/blog/2013/06/oracle-database-12c/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://amardeepsidhu.com/>amardeepsidhu.com</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>