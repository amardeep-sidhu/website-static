<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Oracle Tips | amardeepsidhu.com</title>
<meta name=keywords content><meta name=description content><meta name=author content="Amardeep Sidhu"><link rel=canonical href=https://v2.amardeepsidhu.com/categories/oracle-tips/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://v2.amardeepsidhu.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://v2.amardeepsidhu.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://v2.amardeepsidhu.com/favicon-32x32.png><link rel=apple-touch-icon href=https://v2.amardeepsidhu.com/apple-touch-icon.png><link rel=mask-icon href=https://v2.amardeepsidhu.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://v2.amardeepsidhu.com/categories/oracle-tips/index.xml><link rel=alternate hreflang=en href=https://v2.amardeepsidhu.com/categories/oracle-tips/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://v2.amardeepsidhu.com/categories/oracle-tips/"><meta property="og:site_name" content="amardeepsidhu.com"><meta property="og:title" content="Oracle Tips"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Oracle Tips"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://v2.amardeepsidhu.com/ accesskey=h title="amardeepsidhu.com (Alt + H)">amardeepsidhu.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://v2.amardeepsidhu.com/blog/ title="Oracle blog"><span>Oracle blog</span></a></li><li><a href=https://v2.amardeepsidhu.com/personal/ title="Personal blog"><span>Personal blog</span></a></li><li><a href=https://v2.amardeepsidhu.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://v2.amardeepsidhu.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://v2.amardeepsidhu.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://v2.amardeepsidhu.com/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Oracle Tips</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>DBA_MVIEW_COMMENTS view in 10g</h2></header><div class=entry-content><p>Our application (3 tier, Front end Forms10g and back end 10gR2) provides user with a front end to refresh the mviews. That form has 2 columns showing mview name and the comment against it. Recently i saw that while opening this front end ORA-01403 NO DATA FOUND was being raised.
I opened the fmb and found that it was populating comments from DBA_TAB_COMMENTS. In 10g the comments against mviews are stored in DBA_MVIEW_COMMENTS unlike till 9i where it was in ALL_TAB_COMMENTS. So there was a little modification required.
...</p></div><footer class=entry-footer><span title='2008-07-21 07:28:32 +0530 +0530'>July 21, 2008 at 7:28 AM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;130 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to DBA_MVIEW_COMMENTS view in 10g" href=https://v2.amardeepsidhu.com/blog/2008/07/21/dba_mview_comments-view-in-10g/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Import and default values for columns</h2></header><div class=entry-content><p>I had got an export of a database and had to import it to a new database. The only difference was that in new database few of the large tables were partitioned. So instead of partitioning it after the import, i thought about pre-creating the tables (with partitioning) and then run import with ignore=Y . Everything went fine. But later on the front end application gave some error and we came to know that default values for columns in some tables were not set. I did some googling and didn’t find much. Then i posted the same to OTN forums and came to know that if the table pre-exists, import doesn’t take care of default values of columns. Metalink note 224727.1 discusses this. So if you are pre-creating the tables and there are some default values for any columns, set it manually, don’t rely on import for this. Same is true for impdp as well.
...</p></div><footer class=entry-footer><span title='2008-05-10 14:47:59 +0530 +0530'>May 10, 2008 at 2:47 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;155 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Import and default values for columns" href=https://v2.amardeepsidhu.com/blog/2008/05/10/import-and-default-values-for-columns/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Unxutils for Windows</h2></header><div class=entry-content><p>If you are used to work in Unix enviroment and then sometime, in between have to sit on Windows and tail -f alert_DB.log, its a real pain. There is a small bundle of utilities, called Unxutils which can make you feel at home in Windows too. These are the exe’s of all major commands in Unix like more, less, ls, grep etc…
To use it just download the zip file from the link above, extract it to some folder and add the path of exe’s to your Windows PATH. Restart your machine and you are done.
...</p></div><footer class=entry-footer><span title='2008-04-10 21:57:25 +0530 +0530'>April 10, 2008 at 9:57 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;98 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Unxutils for Windows" href=https://v2.amardeepsidhu.com/blog/2008/04/10/unxutils-for-windows/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>ORA-03113 Refresh of a mview in Oracle 10g</h2></header><div class=entry-content><p>At my workplace we were facing a problem with refresh of a mview. Say it was created in schema of user1 but when I tried to refresh it from user2 it would give ORA-03113: end-of-file on communication channel. Then we raised a SR and have been following up with Oracle support for long but it was not getting anywhere. Yesterday that guy seemed to have reached some point. The mviews that we have created and are having problem with refresh are created on top of both local & remote objects and he said that up to 11gr2 there is no possibility of creating mviews on both local and remote objects. I did validate this thing. All the mviews failing to refresh are created on top of both local & remote objects. But again from the owner the refresh is fine but from another user it gives problem. By the way that guy hinted at bug 4084125 and also suggested a work around. I haven’t tried that yet. Will try and update about the results.
...</p></div><footer class=entry-footer><span title='2008-01-03 07:33:00 +0530 +0530'>January 3, 2008 at 7:33 AM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;175 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to ORA-03113 Refresh of a mview in Oracle 10g" href=https://v2.amardeepsidhu.com/blog/2008/01/03/ora-03113-refresh-of-a-mview-in-oracle-10g/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Importing a full database…</h2></header><div class=entry-content><p>Many times, we are required to restore a database from an export dmp file. Its a simple task but sometimes there are some issues left like invalid objects or some objects missing, in the newly created database. Following steps, followed in order can help in creating an error free database:
Create a blank database:The very first step is to create a blank database which is to be used as the target database. That can be done using Database Configuration Assistant. (In last step of the DBCA, change redo log file sizes to 500 MB each (or some appropriate values depdening upon the size of the databaes), as during import, lot of redo will be generated, so large redo size helps in that scenario)
...</p></div><footer class=entry-footer><span title='2007-08-18 18:51:00 +0530 +0530'>August 18, 2007 at 6:51 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;424 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Importing a full database…" href=https://v2.amardeepsidhu.com/blog/2007/08/18/importing-a-full-database/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Moving datafiles,control files and log files – Part 1</h2></header><div class=entry-content><p>Many times you need to move datafiles from one location to another. The simplest approach for this is to take the tablespace offline, copy the datafiles to new location, rename the files with alter database rename file (Except that you dont have to move the SYSTEM and UNDO tablespace, as you can’t take SYSTEM tablespace offline)
[sourcecode language=‘css’]
SYS@orcl AS SYSDBA> alter tablespace system offline; alter tablespace system offline * ERROR at line 1: ORA-01541: system tablespace cannot be brought offline; shut down if necessary
...</p></div><footer class=entry-footer><span title='2007-07-21 13:44:00 +0530 +0530'>July 21, 2007 at 1:44 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;292 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Moving datafiles,control files and log files – Part 1" href=https://v2.amardeepsidhu.com/blog/2007/07/21/moving-datafiles-control-files-and-log-files-part1/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Import ORA-01435: user does not exist…</h2></header><div class=entry-content><p>One may encounter this error while importing from a dmp file from older versions of Oracle. Genereally this error is caused by some statement like alter session set current_schema=scott; And the simple reason is that the user scott doesn’t exist. Yesterday I came across this error. And the reason was that user was not created. As in case of import we generally create tablespaces first (by creating the DDL using option show=Y) but creation of users is done by import itself. In older versions of Oracle, the temp tablespaces were no different from other tablespaces. But in newer versions temp tablespaces are different. So in dmp files from thoese older versions create user statements are written like create user t1 identified by t1 default tablespace temp temporary tablespace temp. This thing worked fine in older versions but in newer versions we cannot specify the TEMP tablespace as the default tablespace for a user. So the statement create user t2 identified by t2 default tablespace temp temporary tablespace temp throws ORA-12910: cannot specify temporary tablespace as default tablespace. In such cases the users (for which default statement is specified as TEMP) have to be created manually by specifying the appropriate tablespace as default tablespace and then the import should be run with ignore=Y.
...</p></div><footer class=entry-footer><span title='2007-07-14 09:29:00 +0530 +0530'>July 14, 2007 at 9:29 AM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;224 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Import ORA-01435: user does not exist…" href=https://v2.amardeepsidhu.com/blog/2007/07/14/import-ora-01435-user-does-not-exist/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Shell script to spool a no of tables into .xls files…</h2></header><div class=entry-content><p>On OTN someone asked a question that how to spool data from a table into a xls file. Spooling a single table I discussed in one of the previous posts. We can use the same approach to spool data from more than 1 table also. Well here I will do it through a shell script and assume that you have a text file having list of tables to be spooled (Even if you don’t have one, it can be easily made by spooling the names of tables into a simple text file) Here is the shell script that you can use to spool data to various xls files, table wise.
...</p></div><footer class=entry-footer><span title='2007-06-26 22:38:00 +0530 +0530'>June 26, 2007 at 10:38 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;209 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Shell script to spool a no of tables into .xls files…" href=https://v2.amardeepsidhu.com/blog/2007/06/26/shell-script-to-spool-a-no-of-tables-into-xls-files/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Is multiplication faster than division ?</h2></header><div class=entry-content><p>An interesing post by Laurent. Check out http://laurentschneider.com/wordpress/2007/06/to-divide-or-to-multiply.html
My findings on 10gR2 on Windoze XP
SQL> var z number
SQL> var y number
SQL> exec :z := power(2,102)*2e-31;PL/SQL procedure successfully completed.SQL> exec :y := 1e125;PL/SQL procedure successfully completed.SQL> set timi on
SQL> exec while (:y>1e-125) loop :y:=:y/:z; end loopPL/SQL procedure successfully completed.Elapsed: 00:00:00.10
SQL> set timi off
SQL> print yY
----------
9.988E-126SQL> exec :z := power(2,-104)*2e31;PL/SQL procedure successfully completed.SQL> exec :y := 1e125;PL/SQL procedure successfully completed.SQL> set timi on
SQL> exec while (:y>1e-125) loop :y:=:y*:z; end loopPL/SQL procedure successfully completed.Elapsed: 00:00:00.04
SQL> set timi off
SQL> print yY
----------
9.988E-126SQL> Sidhu
...</p></div><footer class=entry-footer><span title='2007-06-18 23:02:00 +0530 +0530'>June 18, 2007 at 11:02 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;101 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Is multiplication faster than division ?" href=https://v2.amardeepsidhu.com/blog/2007/06/18/is-multiplication-faster-than-division/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Spool to a .xls (excel) file…</h2></header><div class=entry-content><p>A small tip, I read on OTN about spooling to a .xls (excel) file:
It goes like this
[sourcecode language=‘css’]set feed off markup html on spool onspool c:\salgrade.xls select * from salgrade; spool offset markup html off spool off[/sourcecode]
And the xls it makes shows up like:
Sidhu
Comments Comment by hemant on 2007-06-26 16:44:00 +0530 hi
i am working for a bank and we are using 10g.
i am very raw at the oracle and have just started teaching myself through a book i have.
we have many reports devised by our vendor still we need some that r not available.
so we wanted the data to be exported in xl wherein i could manipulate to data to our need.
abt this spooling thing. i have copied down ur script and want to test it… but how do i access the shell prompt(do not know unix either)
thanks for the help
extend it bit further for me please
hemu
...</p></div><footer class=entry-footer><span title='2007-06-16 00:14:00 +0530 +0530'>June 16, 2007 at 12:14 AM</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;766 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Spool to a .xls (excel) file…" href=https://v2.amardeepsidhu.com/blog/2007/06/16/spool-to-a-xls-excel-file/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://v2.amardeepsidhu.com/categories/oracle-tips/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://v2.amardeepsidhu.com/>amardeepsidhu.com</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>