<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Oracle Tips on amardeepsidhu.com</title><link>https://amardeepsidhu.com/categories/oracle-tips/</link><description>Recent content in Oracle Tips on amardeepsidhu.com</description><generator>Hugo -- 0.135.0</generator><language>en</language><lastBuildDate>Mon, 21 Jul 2008 07:28:32 +0530</lastBuildDate><atom:link href="https://amardeepsidhu.com/categories/oracle-tips/index.xml" rel="self" type="application/rss+xml"/><item><title>DBA_MVIEW_COMMENTS view in 10g</title><link>https://amardeepsidhu.com/blog/2008/07/21/dba_mview_comments-view-in-10g/</link><pubDate>Mon, 21 Jul 2008 07:28:32 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2008/07/21/dba_mview_comments-view-in-10g/</guid><description>&lt;p>Our application (3 tier, Front end Forms10g and back end 10gR2) provides user with a front end to refresh the mviews. That form has 2 columns showing mview name and the comment against it. Recently i saw that while opening this front end ORA-01403 NO DATA FOUND was being raised.&lt;/p>
&lt;p>I opened the fmb and found that it was populating comments from DBA_TAB_COMMENTS. In 10g the comments against mviews are stored in DBA_MVIEW_COMMENTS unlike till 9i where it was in ALL_TAB_COMMENTS. So there was a little modification required.&lt;/p></description></item><item><title>Import and default values for columns</title><link>https://amardeepsidhu.com/blog/2008/05/10/import-and-default-values-for-columns/</link><pubDate>Sat, 10 May 2008 14:47:59 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2008/05/10/import-and-default-values-for-columns/</guid><description>&lt;p>I had got an export of a database and had to import it to a new database. The only difference was that in new database few of the large tables were partitioned. So instead of partitioning it after the import, i thought about pre-creating the tables (with partitioning) and then run import with ignore=Y . Everything went fine. But later on the front end application gave some error and we came to know that default values for columns in some tables were not set. I did some googling and didn&amp;rsquo;t find much. Then i &lt;a href="http://forums.oracle.com/forums/message.jspa?messageID=25113">posted&lt;/a> the same to OTN forums and came to know that if the table pre-exists, import doesn&amp;rsquo;t take care of default values of columns. Metalink note &lt;a href="https://metalink.oracle.com/metalink/plsql/f?p=130:14:4379750739032245945::::p14_database_id,p14_docid,p14_show_header,p14_show_help,p14_black_frame,p14_font:NOT,224727.1,1,1,1,helvetica">224727.1&lt;/a> discusses this. So if you are pre-creating the tables and there are some default values for any columns, set it manually, don&amp;rsquo;t rely on import for this. Same is true for impdp as well.&lt;/p></description></item><item><title>Unxutils for Windows</title><link>https://amardeepsidhu.com/blog/2008/04/10/unxutils-for-windows/</link><pubDate>Thu, 10 Apr 2008 21:57:25 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2008/04/10/unxutils-for-windows/</guid><description>&lt;p>If you are used to work in Unix enviroment and then sometime, in between have to sit on Windows and tail -f alert_DB.log, its a real pain. There is a small bundle of utilities, called &lt;a href="http://unxutils.sourceforge.net/">Unxutils&lt;/a> which can make you feel at home in Windows too. These are the exe&amp;rsquo;s of all major commands in Unix like more, less, ls, grep etc&amp;hellip;&lt;/p>
&lt;p>To use it just download the zip file from the link above, extract it to some folder and add the path of exe&amp;rsquo;s to your Windows PATH. Restart your machine and you are done.&lt;/p></description></item><item><title>ORA-03113 Refresh of a mview in Oracle 10g</title><link>https://amardeepsidhu.com/blog/2008/01/03/ora-03113-refresh-of-a-mview-in-oracle-10g/</link><pubDate>Thu, 03 Jan 2008 07:33:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2008/01/03/ora-03113-refresh-of-a-mview-in-oracle-10g/</guid><description>&lt;p>At my workplace we were facing a problem with refresh of a mview. Say it was created in schema of user1 but when I tried to refresh it from user2 it would give ORA-03113: end-of-file on communication channel. Then we raised a SR and have been following up with Oracle support for long but it was not getting anywhere. Yesterday that guy seemed to have reached some point. The mviews that we have created and are having problem with refresh are created on top of both local &amp;amp; remote objects and he said that up to 11gr2 there is no possibility of creating mviews on both local and remote objects. I did validate this thing. All the mviews failing to refresh are created on top of both local &amp;amp; remote objects. But again from the owner the refresh is fine but from another user it gives problem. By the way that guy hinted at &lt;a href="https://metalink.oracle.com/metalink/plsql/f?p=130:15:3284197721413823598::::p15_database_id,p15_docid,p15_show_header,p15_show_help,p15_black_frame,p15_font:BUG,4084125,1,1,1,helvetica">bug 4084125&lt;/a> and also suggested a work around. I haven&amp;rsquo;t tried that yet. Will try and update about the results.&lt;/p></description></item><item><title>Importing a full database…</title><link>https://amardeepsidhu.com/blog/2007/08/18/importing-a-full-database/</link><pubDate>Sat, 18 Aug 2007 18:51:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/08/18/importing-a-full-database/</guid><description>&lt;p>Many times, we are required to restore a database from an export dmp file. Its a simple task but sometimes there are some issues left like invalid objects or some objects missing, in the newly created database. Following steps, followed in order can help in creating an error free database:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Create a blank database:The very first step is to create a blank database which is to be used as the target database. That can be done using Database Configuration Assistant. (In last step of the DBCA, change redo log file sizes to 500 MB each (or some appropriate values depdening upon the size of the databaes), as during import, lot of redo will be generated, so large redo size helps in that scenario)&lt;/p></description></item><item><title>Moving datafiles,control files and log files – Part 1</title><link>https://amardeepsidhu.com/blog/2007/07/21/moving-datafiles-control-files-and-log-files-part1/</link><pubDate>Sat, 21 Jul 2007 13:44:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/07/21/moving-datafiles-control-files-and-log-files-part1/</guid><description>&lt;p>Many times you need to move datafiles from one location to another. The simplest approach for this is to take the tablespace offline, copy the datafiles to new location, rename the files with &lt;em>alter database rename file&lt;/em> (Except that you dont have to move the SYSTEM and UNDO tablespace, as you can&amp;rsquo;t take SYSTEM tablespace offline)&lt;/p>
&lt;p>[sourcecode language=&amp;lsquo;css&amp;rsquo;]&lt;/p>
&lt;p>SYS@orcl AS SYSDBA&amp;gt; alter tablespace system offline;
alter tablespace system offline
*
ERROR at line 1:
ORA-01541: system tablespace cannot be brought offline; shut down if necessary&lt;/p></description></item><item><title>Import ORA-01435: user does not exist…</title><link>https://amardeepsidhu.com/blog/2007/07/14/import-ora-01435-user-does-not-exist/</link><pubDate>Sat, 14 Jul 2007 09:29:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/07/14/import-ora-01435-user-does-not-exist/</guid><description>&lt;p>One may encounter this error while importing from a dmp file from older versions of Oracle. Genereally this error is caused by some statement like alter session set current_schema=scott; And the simple reason is that the user scott doesn&amp;rsquo;t exist. Yesterday I came across this error. And the reason was that user was not created. As in case of import we generally create tablespaces first (by creating the DDL using option show=Y) but creation of users is done by import itself. In older versions of Oracle, the temp tablespaces were no different from other tablespaces. But in newer versions temp tablespaces are different. So in dmp files from thoese older versions create user statements are written like create user t1 identified by t1 default tablespace temp temporary tablespace temp. This thing worked fine in older versions but in newer versions we cannot specify the TEMP tablespace as the default tablespace for a user. So the statement create user t2 identified by t2 default tablespace temp temporary tablespace temp throws ORA-12910: cannot specify temporary tablespace as default tablespace. In such cases the users (for which default statement is specified as TEMP) have to be created manually by specifying the appropriate tablespace as default tablespace and then the import should be run with ignore=Y.&lt;/p></description></item><item><title>Shell script to spool a no of tables into .xls files…</title><link>https://amardeepsidhu.com/blog/2007/06/26/shell-script-to-spool-a-no-of-tables-into-xls-files/</link><pubDate>Tue, 26 Jun 2007 22:38:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/06/26/shell-script-to-spool-a-no-of-tables-into-xls-files/</guid><description>&lt;p>On OTN someone asked &lt;a href="http://forums.oracle.com/forums/thread.jspa?threadID=523835&amp;amp;tstart=50">a question&lt;/a> that how to spool data from a table into a xls file. Spooling a single table I discussed in one of the &lt;a href="https://amardeepsidhu.com/blog/2007/06/16/spool-to-a-xls-excel-file">previous posts&lt;/a>. We can use the same approach to spool data from more than 1 table also. Well here I will do it through a shell script and assume that you have a text file having list of tables to be spooled (Even if you don&amp;rsquo;t have one, it can be easily made by spooling the names of tables into a simple text file) Here is the shell script that you can use to spool data to various xls files, table wise.&lt;/p></description></item><item><title>Is multiplication faster than division ?</title><link>https://amardeepsidhu.com/blog/2007/06/18/is-multiplication-faster-than-division/</link><pubDate>Mon, 18 Jun 2007 23:02:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/06/18/is-multiplication-faster-than-division/</guid><description>&lt;p>An interesing post by Laurent. Check out &lt;a href="http://laurentschneider.com/wordpress/2007/06/to-divide-or-to-multiply.html">http://laurentschneider.com/wordpress/2007/06/to-divide-or-to-multiply.html&lt;/a>&lt;/p>
&lt;p>My findings on 10gR2 on Windoze XP&lt;/p>
&lt;pre tabindex="0">&lt;code>
SQL&amp;gt; var z number
SQL&amp;gt; var y number
SQL&amp;gt; exec :z := power(2,102)*2e-31;PL/SQL procedure successfully completed.SQL&amp;gt; exec :y := 1e125;PL/SQL procedure successfully completed.SQL&amp;gt; set timi on
SQL&amp;gt; exec while (:y&amp;gt;1e-125) loop :y:=:y/:z; end loopPL/SQL procedure successfully completed.Elapsed: 00:00:00.10
SQL&amp;gt; set timi off
SQL&amp;gt; print yY
----------
9.988E-126SQL&amp;gt; exec :z := power(2,-104)*2e31;PL/SQL procedure successfully completed.SQL&amp;gt; exec :y := 1e125;PL/SQL procedure successfully completed.SQL&amp;gt; set timi on
SQL&amp;gt; exec while (:y&amp;gt;1e-125) loop :y:=:y*:z; end loopPL/SQL procedure successfully completed.Elapsed: 00:00:00.04
SQL&amp;gt; set timi off
SQL&amp;gt; print yY
----------
9.988E-126SQL&amp;gt;
&lt;/code>&lt;/pre>&lt;p>Sidhu&lt;/p></description></item><item><title>Spool to a .xls (excel) file…</title><link>https://amardeepsidhu.com/blog/2007/06/16/spool-to-a-xls-excel-file/</link><pubDate>Sat, 16 Jun 2007 00:14:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/06/16/spool-to-a-xls-excel-file/</guid><description>&lt;p>A small tip, I read on &lt;a href="http://forums.oracle.com/forums/thread.jspa?messageID=1849526">OTN&lt;/a> about spooling to a .xls (excel) file:&lt;/p>
&lt;p>It goes like this&lt;/p>
&lt;p>[sourcecode language=&amp;lsquo;css&amp;rsquo;]set feed off markup html on
spool onspool c:\salgrade.xls
select * from salgrade;
spool offset markup html off
spool off[/sourcecode]&lt;/p>
&lt;p>And the xls it makes shows up like:&lt;/p>
&lt;pre tabindex="0">&lt;code>&lt;/code>&lt;/pre>&lt;p>&lt;img loading="lazy" src="file:///C:/DOCUME%7E1/Amardeep/LOCALS%7E1/Temp/moz-screenshot.jpg">Sidhu&lt;/p>
&lt;h2 id="comments">Comments&lt;/h2>
&lt;h3 id="comment-by-hemant-on-2007-06-26-164400-0530">Comment by hemant on 2007-06-26 16:44:00 +0530&lt;/h3>
&lt;p>hi&lt;br>
i am working for a bank and we are using 10g.&lt;br>
i am very raw at the oracle and have just started teaching myself through a book i have.&lt;br>
we have many reports devised by our vendor still we need some that r not available.&lt;br>
so we wanted the data to be exported in xl wherein i could manipulate to data to our need.&lt;br>
abt this spooling thing. i have copied down ur script and want to test it… but how do i access the shell prompt(do not know unix either)&lt;br>
thanks for the help&lt;br>
extend it bit further for me please&lt;br>
hemu&lt;/p></description></item><item><title>IMPORT &amp; EXPORT from/to compressed files directly…</title><link>https://amardeepsidhu.com/blog/2007/06/06/import-export-from-to-compressed-files-directly/</link><pubDate>Wed, 06 Jun 2007 20:57:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/06/06/import-export-from-to-compressed-files-directly/</guid><description>&lt;p>Well, a simple method to import(export) directly to(from) compressed files using pipes. Its for Unix based systems only, as I am not aware of any pipe type functionality in Windows. The biggest advantage is that you can save lots of space as uncompressing a file makes it almost 5 times or more. (Suppose you are uncompressing a file of 20 GB, it will make 100 GB) As a newbie I faced this problem, so thought about writing a post.&lt;/p></description></item><item><title>NO_DATA_FOUND…</title><link>https://amardeepsidhu.com/blog/2007/04/13/no_data_found/</link><pubDate>Fri, 13 Apr 2007 13:01:00 +0530</pubDate><guid>https://amardeepsidhu.com/blog/2007/04/13/no_data_found/</guid><description>&lt;p>I was going through &lt;a href="http://awads.net/wp/">Eddie Awad&amp;rsquo;s blog&lt;/a>. There was one post about an article about NO_DATA_FOUND exception in Oracle. Both the posts you can find &lt;a href="http://awads.net/wp/2007/04/10/no_data_found-gotcha/">here&lt;/a> and &lt;a href="http://blogs.ittoolbox.com/oracle/guide/archives/minitip-9-no-data-found-bug-or-feature-15602">here&lt;/a>. Do read. It is really interesting.&lt;/p>
&lt;p>Sidhu&lt;/p></description></item></channel></rss>