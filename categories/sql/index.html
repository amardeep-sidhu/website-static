<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SQL | amardeepsidhu.com</title><meta name=keywords content><meta name=description content><meta name=author content="Amardeep Sidhu"><link rel=canonical href=https://amardeepsidhu.com/categories/sql/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://amardeepsidhu.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://amardeepsidhu.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://amardeepsidhu.com/favicon-32x32.png><link rel=apple-touch-icon href=https://amardeepsidhu.com/apple-touch-icon.png><link rel=mask-icon href=https://amardeepsidhu.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://amardeepsidhu.com/categories/sql/index.xml><link rel=alternate hreflang=en href=https://amardeepsidhu.com/categories/sql/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://amardeepsidhu.com/categories/sql/"><meta property="og:site_name" content="amardeepsidhu.com"><meta property="og:title" content="SQL"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="SQL"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://amardeepsidhu.com/ accesskey=h title="amardeepsidhu.com (Alt + H)">amardeepsidhu.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://amardeepsidhu.com/blog/ title="Oracle blog"><span>Oracle blog</span></a></li><li><a href=https://amardeepsidhu.com/personal/ title="Personal blog"><span>Personal blog</span></a></li><li><a href=https://amardeepsidhu.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://amardeepsidhu.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://amardeepsidhu.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://amardeepsidhu.com/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>SQL</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Delete Delete Faster Faster ;)</h2></header><div class=entry-content><p>2-3 days ago, I came across a code, intended to make delete faster. Just have a look ;)
[sql]. . . LOOP SELECT COUNT (1) INTO v_cnt FROM table1 WHERE ROWNUM &lt; 2;
IF v_cnt = 0 THEN EXIT; END IF;
DELETE FROM table1 WHERE ROWNUM &lt; 1000;
COMMIT; v_cnt := 0; END LOOP; . . .[/sql]
Comments Comment by Vaibhav on 2009-10-10 07:58:17 +0530 What is the joke here?
...</p></div><footer class=entry-footer><span title='2009-10-08 20:53:36 +0530 +0530'>October 8, 2009 at 8:53 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Delete Delete Faster Faster ;)" href=https://amardeepsidhu.com/blog/2009/10/08/delete-delete-faster-faster/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Missing grants</h2></header><div class=entry-content><p>Today one of my colleague was working on a simple PL/SQL procedure. Based on some logic it was returning count(*) from all_tab_columns for few tables. It gave count incorrectly for one table out of around fifty in total. He just hard coded the table name and ran it but again it showed count as zero.
Then he took the code out of procedure and wrote it in DECLARE, BEGIN, END and after running it showed the correct count. But ran as database procedure it always shows incorrectly.
...</p></div><footer class=entry-footer><span title='2008-03-03 20:37:15 +0530 +0530'>March 3, 2008 at 8:37 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;274 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Missing grants" href=https://amardeepsidhu.com/blog/2008/03/03/missing-grants/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Learning Regular Expressions</h2></header><div class=entry-content><p>From Eddie’s blog I got a link to 3 posts on Regular Expressions on OTN written by CD. Wonderful stuff. Check out.
Part 1 Part 2 Part 3
& Thanks CD…wonderful work buddy !
Comments Comment by Tyler on 2008-02-28 07:51:45 +0530 I’ve been working with regular expressions in PL/SQL a lot lately and the one tool that’s helped me more than any other is Regex Buddy (http://www.regexbuddy.com/). Yeah, it’s not free, but it was the best $40 I’ve spent. There are free options, like regex coach and a few free online options, but the problem is you have to find one that matches the Oracle specific Posix ERE format. Regex buddy even has a drop-down for Oracle syntax (http://www.regexbuddy.com/oracle.html). I have no affiliation with this tool whatsoever, just found it to be exceptionally useful.
...</p></div><footer class=entry-footer><span title='2008-02-27 21:29:50 +0530 +0530'>February 27, 2008 at 9:29 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;156 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Learning Regular Expressions" href=https://amardeepsidhu.com/blog/2008/02/27/learning-regular-expressions/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Shell script to spool a no of tables into .xls files…</h2></header><div class=entry-content><p>On OTN someone asked a question that how to spool data from a table into a xls file. Spooling a single table I discussed in one of the previous posts. We can use the same approach to spool data from more than 1 table also. Well here I will do it through a shell script and assume that you have a text file having list of tables to be spooled (Even if you don’t have one, it can be easily made by spooling the names of tables into a simple text file) Here is the shell script that you can use to spool data to various xls files, table wise.
...</p></div><footer class=entry-footer><span title='2007-06-26 22:38:00 +0530 +0530'>June 26, 2007 at 10:38 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;209 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Shell script to spool a no of tables into .xls files…" href=https://amardeepsidhu.com/blog/2007/06/26/shell-script-to-spool-a-no-of-tables-into-xls-files/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Spool to a .xls (excel) file…</h2></header><div class=entry-content><p>A small tip, I read on OTN about spooling to a .xls (excel) file:
It goes like this
[sourcecode language=‘css’]set feed off markup html on spool onspool c:\salgrade.xls select * from salgrade; spool offset markup html off spool off[/sourcecode]
And the xls it makes shows up like:
Sidhu
Comments Comment by hemant on 2007-06-26 16:44:00 +0530 hi
i am working for a bank and we are using 10g.
i am very raw at the oracle and have just started teaching myself through a book i have.
we have many reports devised by our vendor still we need some that r not available.
so we wanted the data to be exported in xl wherein i could manipulate to data to our need.
abt this spooling thing. i have copied down ur script and want to test it… but how do i access the shell prompt(do not know unix either)
thanks for the help
extend it bit further for me please
hemu
...</p></div><footer class=entry-footer><span title='2007-06-16 00:14:00 +0530 +0530'>June 16, 2007 at 12:14 AM</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;766 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Spool to a .xls (excel) file…" href=https://amardeepsidhu.com/blog/2007/06/16/spool-to-a-xls-excel-file/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Command line history in SQL (for Linux)…</h2></header><div class=entry-content><p>Found a very interesting article on Dizwell’s blog. It was about keeping history of the SQL commands in SQL Plus on Linux. It is almost very simple. Just need to download a small utility called rlwrap from here. Its a tar.gz file. Download it, un-tar using
[sourcecode language=‘css’] tar -xvf rlwrap-0.28.tar.gz [/sourcecode]
It will create a directory with the same name. cd to the directory and run
[sourcecode language=‘css’] ./configure [/sourcecode]
...</p></div><footer class=entry-footer><span title='2007-05-04 20:35:00 +0530 +0530'>May 4, 2007 at 8:35 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Command line history in SQL (for Linux)…" href=https://amardeepsidhu.com/blog/2007/05/04/command-line-history-in-sql-for-linux/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://amardeepsidhu.com/>amardeepsidhu.com</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>