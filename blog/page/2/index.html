<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Blogs | amardeepsidhu.com</title>
<meta name=keywords content><meta name=description content="Blogs - amardeepsidhu.com"><meta name=author content="Amardeep Sidhu"><link rel=canonical href=https://v2.amardeepsidhu.com/blog/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://v2.amardeepsidhu.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://v2.amardeepsidhu.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://v2.amardeepsidhu.com/favicon-32x32.png><link rel=apple-touch-icon href=https://v2.amardeepsidhu.com/apple-touch-icon.png><link rel=mask-icon href=https://v2.amardeepsidhu.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://v2.amardeepsidhu.com/blog/index.xml><link rel=alternate hreflang=en href=https://v2.amardeepsidhu.com/blog/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://v2.amardeepsidhu.com/blog/"><meta property="og:site_name" content="amardeepsidhu.com"><meta property="og:title" content="Blogs"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Blogs"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://v2.amardeepsidhu.com/blog/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://v2.amardeepsidhu.com/ accesskey=h title="amardeepsidhu.com (Alt + H)">amardeepsidhu.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://v2.amardeepsidhu.com/blog/ title="Oracle blog"><span class=active>Oracle blog</span></a></li><li><a href=https://v2.amardeepsidhu.com/personal/ title="Personal blog"><span>Personal blog</span></a></li><li><a href=https://v2.amardeepsidhu.com/categories/ title=categories><span>categories</span></a></li><li><a href=https://v2.amardeepsidhu.com/tags/ title=tags><span>tags</span></a></li><li><a href=https://v2.amardeepsidhu.com/search/ title=search><span>search</span></a></li><li><a href=https://v2.amardeepsidhu.com/archives/ title=archive><span>archive</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Blogs</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[FATAL] [INS-44000] Passwordless SSH connectivity is not setup</h2></header><div class=entry-content><p>Faced this while running installer for setting up a 2 node RAC setup (version 19.8) on an Oracle SuperCluster. The error reported in the log is:
[FATAL] [INS-44000] Passwordless SSH connectivity is not setup from the local node node1 to the following nodes:
[node2]
[INS-06006] Passwordless SSH connectivity not set up between the following node(s): [node2] From the error it appears that the ssh is not setup between two nodes but actually that is not the case. Here the error message is bit misleading. It turned out to be an issue with scp with openssh version 8.x. Running the setup with -debug option gives the clue:
...</p></div><footer class=entry-footer><span title='2021-03-10 18:17:34 +0530 +0530'>March 10, 2021 at 6:17 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;212 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to [FATAL] [INS-44000] Passwordless SSH connectivity is not setup" href=https://v2.amardeepsidhu.com/blog/2021/03/10/fatal-ins-44000-passwordless-ssh-connectivity-is-not-setup/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Doing an Exadata mixed cells config with OEDA</h2></header><div class=entry-content><p>Earlier versions of OEDA didn’t allow you to have mixed cells in the configuration i.e. High Capacity (HC) and Extreme Flash (EF). The way to deal with that configuration was that deploy the system with either HC or EF cells and then manually configure the remaining cells.
I am not sure when did it change but the newer versions allow you have mixed type of cells in a single OEDA configuration. Once you select the hardware, there is an additional option called Enable Additional Storage, where you can select the other type of cells. The minimum number of cells has to be three to use this option. Also the cells that are at the bottom of the rack physically should be selected as main storage and the other cells should be added as additional storage as that is how OEDA builds the configuration files.
...</p></div><footer class=entry-footer><span title='2020-10-27 18:53:37 +0530 +0530'>October 27, 2020 at 6:53 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;285 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Doing an Exadata mixed cells config with OEDA" href=https://v2.amardeepsidhu.com/blog/2020/10/27/doing-an-exadata-mixed-cells-config-with-oeda/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Implementing ZDLRA – Part 2</h2></header><div class=entry-content><p>In part 1, we discussed few things that you should take care before implementation of a ZDLRA. In this post, we will discuss few more things that you should review before or at the time of implementation:
If you are getting two ZDLRAs (one each for primary and standby sites), there are two ways they can be deployed. One scenario is where all the primary databases (or the database that have no standby) backup to RA at the primary site and then the data is replicated from primary RA to RA at the standby site. This works well for the DBs that have no standby database. For the DBs where there is a standby database, there is a better architecture that can be deployed. In that scenario, primary databases backup to primary RA and the standby databases backup to standby RA. That saves you all the traffic over replication network. Oracle has published a whitepaper on how to do this configuration. Few of the instructions in this paper are a bit dated but it gives a good overall idea of how to do the implementation. Keep an eye on the features supported for different DB versions. An interesting one is that real-time redo shipping from standby databases is supported on 12c+ databases only. It is not supported for 11g. There could be other similar things. MOS note 1995866.1 has these details. Depending upon the ZDLRA software version being deployed, it may need a minimum version of EM and the ZDLRA plugin. MOS note 2542836.1 has these details. Make sure after discovering the the primary and standby databases in EM, their primary-standby relationship is reflected. Real-time redo sent to ZDLRA is compressed but the archive logs backup will be compressed only if you use compression in the RMAN command. It is always good to include backup archivelog command with daily incremental job to make sure that no archive log is missed. Many of the environments have separate networks for backup traffic. Make sure the backup traffic to ZDLRA uses DB server’s backup network. If that is not the case, you may need to add an explicit route on DB server for ZDLRA client/VIP/scan IPs. There are going to be different users that you will need to use: one OS user for deploying the EM agent, one DB user that will be used to run the backups. Depending upon your environment, it may oracle OS user, SYS DB user or could be some other named user created for this purpose. In next few posts, we will discuss some of the issues I have faced while doing ZDLRA implementation for some customers.
...</p></div><footer class=entry-footer><span title='2020-10-06 18:06:53 +0530 +0530'>October 6, 2020 at 6:06 PM</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;463 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Implementing ZDLRA – Part 2" href=https://v2.amardeepsidhu.com/blog/2020/10/06/implementing-zdlra-part-2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>PRVF-4657 : Name resolution setup check for “db-scan” (IP address: x.x.x.101) failed</h2></header><div class=entry-content><p>A quick note about an error I faced while running root.sh on an Exadata machine. The configuration tools failed with the following error:
Error is PRVF-4657 : Name resolution setup check for "db-scan" (IP address: x.x.x.101) failed I did nslookup on the scan name and it all seemed good. So why the error ? After spending another 5 minutes, I looked at /etc/hosts and there was it. Someone had populated /etc/hosts of DB nodes with all the hostnames entries including the scan name. Something like:
...</p></div><footer class=entry-footer><span title='2020-09-25 19:41:28 +0530 +0530'>September 25, 2020 at 7:41 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to PRVF-4657 : Name resolution setup check for “db-scan” (IP address: x.x.x.101) failed" href=https://v2.amardeepsidhu.com/blog/2020/09/25/prvf-4657-name-resolution-setup-check-for-db-scan-ip-address-x-x-x-101-failed/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Implementing ZDLRA – Part 1</h2></header><div class=entry-content><p>Zero Data Loss Recovery Appliance (ZDLRA) is Oracle’s solution for database backups. It has many advantages over other backup solutions that are available in the market. This post has a brief introduction to ZDLRA and few links for further reading. This is a quick post about few of things that you should keep in mind if you are planning to get a ZDLRA (RA in short). Of course, there is a lot more that is needed while executing the whole plan, but these are some of the basics:
...</p></div><footer class=entry-footer><span title='2020-09-09 18:33:39 +0530 +0530'>September 9, 2020 at 6:33 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;350 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Implementing ZDLRA – Part 1" href=https://v2.amardeepsidhu.com/blog/2020/09/09/implementing-zdlra-part-1/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Using Secure Fabric for network isolation in KVM environments on Exadata</h2></header><div class=entry-content><p>Exadata storage software version 20.1 introduces a new feature called “Secure Fabric” for KVM based multi cluster deployments (Exadata X8M). It enables network isolation between multiple tenants (i.e. KVM VMs based RAC clusters). This feature aligns with Infiniband Partitioning on OVM based systems. There are customers who in such scenarios want that VMs of one RAC shouldn’t be able to see traffic of the other RAC VMs. This feature achieves that. Similar to Pkeys in IB switches, here it uses a double VLAN tagging system where the first tag identiefies the network partition and the second tag is used to denote membership level of the VM. Exadata documention has more details.
...</p></div><footer class=entry-footer><span title='2020-07-17 21:21:03 +0000 UTC'>July 17, 2020 at 9:21 PM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;215 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Using Secure Fabric for network isolation in KVM environments on Exadata" href=https://v2.amardeepsidhu.com/blog/2020/07/17/using-secure-fabric-for-network-isolation-in-kvm-environments-on-exadata/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Exadata Virtualized DB node restore</h2></header><div class=entry-content><p>There are two common scenarios when we may need this:
An existing DB node has crashed and is unrecoverable (due to some failure and non-availability of any backups. Though some of the things may need to be done even if the backups were available). We have an existing Exadata rack that is virtualized. Now there is a new DB node and the existing clusters need to be extended to include the VMs on this new node. I recently faced the first scenario where a virtualized DB node crashed and wasn’t recoverable. A bare metal DB node restore is a relatively simple procedure where we just have to reimage the node, create the needed directories, users etc and add it to the RAC cluster. In case of virtualization, the creation of VMs is an additional step that needs to be done. That makes it slightly more complex.
...</p></div><footer class=entry-footer><span title='2020-05-11 21:31:43 +0530 +0530'>May 11, 2020 at 9:31 PM</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;918 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to Exadata Virtualized DB node restore" href=https://v2.amardeepsidhu.com/blog/2020/05/11/exadata-virtualized-db-node-restore/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>dbnodeupdate.sh appears to be stuck</h2></header><div class=entry-content><p>I was patching an Exadata db node from 18.1.5.0.0.180506 to 19.3.2.0.0.191119. It had been more than an hour and dbnodeupdate.sh appeared to be stuck. Trying to ssh to the node was giving “connection refused” and the console had this output (some output removed for brevity):
[ 458.006444] upgrade[8876]: [642/676] (72%) installing exadata-sun-computenode-19.3.2.0.0.191119-1...
&lt;>
[ 459.991449] upgrade[8876]: Created symlink /etc/systemd/system/multi-user.target.wants/exadata-iscsi-reconcile.service, pointing to /etc/systemd/system/exadata-iscsi-reconcile.service.
[ 460.011466] upgrade[8876]: Looking for unit files in (higher priority first):
[ 460.021436] upgrade[8876]: /etc/systemd/system
[ 460.028479] upgrade[8876]: /run/systemd/system
[ 460.035431] upgrade[8876]: /usr/local/lib/systemd/system
[ 460.042429] upgrade[8876]: /usr/lib/systemd/system
[ 460.049457] upgrade[8876]: Looking for SysV init scripts in:
[ 460.057474] upgrade[8876]: /etc/rc.d/init.d
[ 460.064430] upgrade[8876]: Looking for SysV rcN.d links in:
[ 460.071445] upgrade[8876]: /etc/rc.d
[ 460.076454] upgrade[8876]: Looking for unit files in (higher priority first):
[ 460.086461] upgrade[8876]: /etc/systemd/system
[ 460.093435] upgrade[8876]: /run/systemd/system
[ 460.100433] upgrade[8876]: /usr/local/lib/systemd/system
[ 460.107474] upgrade[8876]: /usr/lib/systemd/system
[ 460.114432] upgrade[8876]: Looking for SysV init scripts in:
[ 460.122455] upgrade[8876]: /etc/rc.d/init.d
[ 460.129458] upgrade[8876]: Looking for SysV rcN.d links in:
[ 460.136468] upgrade[8876]: /etc/rc.d
[ 460.141451] upgrade[8876]: Created symlink /etc/systemd/system/multi-user.target.wants/exadata-multipathmon.service, pointing to /etc/systemd/system/exadata-multipathmon.service. There was not much that I could do so just waited. Also created an SR with Oracle Support and they also suggested to wait. It started moving after some time and completed successfully. Finally when the node came up, i checked that there was an NFS mount entry in /etc/rc.local and that was what created the problem. For the second node, we commented this out and it was all smooth. Important to comment out all NFS entries during patching to avoid all such issues. I had commented the ones in /etc/fstab but the one in rc.local was an unexpected one.
...</p></div><footer class=entry-footer><span title='2019-12-21 06:37:33 +0530 +0530'>December 21, 2019 at 6:37 AM</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;277 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to dbnodeupdate.sh appears to be stuck" href=https://v2.amardeepsidhu.com/blog/2019/12/21/dbnodeupdate-sh-appears-to-be-stuck/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>AVDF installation error</h2></header><div class=entry-content><p>I was installing Database Firewall version 12.2.0.11.0 on a Dell x86 machine (with 5 * 500 GB local HDDs configured in RAID 10) and it got successfully installed. Later on, I came to know that this version doesn’t support host monitor functionality on Windows hosts. The latest version that supports that is 12.2.0.10.0. So that was the time to download and install 12.2.0.10.0. The installation started fine but it failed with an error:
...</p></div><footer class=entry-footer><span title='2019-12-05 20:18:12 +0530 +0530'>December 5, 2019 at 8:18 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to AVDF installation error" href=https://v2.amardeepsidhu.com/blog/2019/12/05/avdf-installation-error/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>OGB Appreciation Day : Thank you community ! (#ThanksOGB)</h2></header><div class=entry-content><p>It was started by Tim Hall in 2016. This is a Thank you community post. There are so many experts posting on Oracle related forums, doing blog posts, sharing their scripts with everyone. All of you are doing a great job. I would like to mention three names especially:
Tim Hall : Tim is a legend ! I don’t consider something a new feature until Tim writes about it :D
Jonathan Lewis : I don’t think there is anyone on this planet who has even once worked on a performance problem and hasn’t gained something from the knowledge shared by him on forums or in one of the blog posts.
...</p></div><footer class=entry-footer><span title='2019-10-10 19:40:04 +0530 +0530'>October 10, 2019 at 7:40 PM</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;142 words&nbsp;·&nbsp;Amardeep Sidhu</footer><a class=entry-link aria-label="post link to OGB Appreciation Day : Thank you community ! (#ThanksOGB)" href=https://v2.amardeepsidhu.com/blog/2019/10/10/ogb-appreciation-day-thank-you-community-thanksogb/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://v2.amardeepsidhu.com/blog/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://v2.amardeepsidhu.com/blog/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://v2.amardeepsidhu.com/>amardeepsidhu.com</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>